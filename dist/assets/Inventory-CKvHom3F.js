import{g as fe,b as he,r as d,d as ge,_ as se,j as t,s as Z,e as h,f as L,i as me,ai as Ve,aj as Ge,ak as nt,al as lt,am as ct,an as qe,ao as dt,ap as Ee,aq as ut,ar as pt,h as X,V as ft,k as Ye,m as De,n as Se,a1 as ht,u as gt,a2 as mt,as as xt,Z as vt,at as de,B as A,S as we,C as Pe,a5 as _e,T as G,D as F,au as ue,a0 as bt,av as Ne,aw as Ct,O as jt,R as yt,ax as Fe,ay as Te,P as oe,a as Ae,az as wt,q as ee,o as te,p as q,aA as At,aB as Rt,aC as Dt,aD as St,F as kt,y as Mt,w as It}from"./index-YjkGLBFY.js";import{R as $t,I as zt}from"./ItemInfoGrid-BNPRWYeK.js";import{d as Et}from"./LocalLaundryService-Bl6kZpQ9.js";import{d as Pt}from"./Save-BXyTpiaw.js";import{m as Le}from"./proxy-B7A4KqpG.js";import{M as _t,C as U}from"./Modal-DKxg8uLR.js";import{G as Be}from"./Grid-BjJdnOoj.js";import{C as Nt,a as Ft}from"./CardContent-CAKH8zlD.js";import{T as Tt}from"./Tooltip-BERmQYnY.js";import{S as Lt,T as re}from"./TextField-BO4Wq49m.js";import{D as Bt}from"./Divider-Ca86SGdI.js";import{M as b}from"./MenuItem-DlJxC4eg.js";import"./AccessTime-DfBlelv_.js";import"./visuallyHidden-Dan1xhjv.js";import"./dividerClasses-DWRVJm7V.js";import"./listItemTextClasses-BJI07egf.js";function Wt(e){return he("MuiCardActionArea",e)}const Re=fe("MuiCardActionArea",["root","focusVisible","focusHighlight"]),Ot=["children","className","focusVisibleClassName"],Ut=e=>{const{classes:s}=e;return me({root:["root"],focusHighlight:["focusHighlight"]},Wt,s)},Ht=Z(Ve,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(e,s)=>s.root})(({theme:e})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${Re.focusHighlight}`]:{opacity:(e.vars||e).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${Re.focusVisible} .${Re.focusHighlight}`]:{opacity:(e.vars||e).palette.action.focusOpacity}})),Vt=Z("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(e,s)=>s.focusHighlight})(({theme:e})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})})),Gt=d.forwardRef(function(s,o){const a=ge({props:s,name:"MuiCardActionArea"}),{children:n,className:C,focusVisibleClassName:u}=a,g=se(a,Ot),f=a,c=Ut(f);return t.jsxs(Ht,h({className:L(c.root,C),focusVisibleClassName:L(u,c.focusVisible),ref:o,ownerState:f},g,{children:[n,t.jsx(Vt,{className:c.focusHighlight,ownerState:f})]}))});function qt(e){return he("MuiCardMedia",e)}fe("MuiCardMedia",["root","media","img"]);const Yt=["children","className","component","image","src","style"],Xt=e=>{const{classes:s,isMediaComponent:o,isImageComponent:a}=e;return me({root:["root",o&&"media",a&&"img"]},qt,s)},Zt=Z("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:o}=e,{isMediaComponent:a,isImageComponent:n}=o;return[s.root,a&&s.media,n&&s.img]}})(({ownerState:e})=>h({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),Kt=["video","audio","picture","iframe","img"],Jt=["picture","img"],Qt=d.forwardRef(function(s,o){const a=ge({props:s,name:"MuiCardMedia"}),{children:n,className:C,component:u="div",image:g,src:f,style:c}=a,x=se(a,Yt),y=Kt.indexOf(u)!==-1,R=!y&&g?h({backgroundImage:`url("${g}")`},c):c,M=h({},a,{component:u,isMediaComponent:y,isImageComponent:Jt.indexOf(u)!==-1}),S=Xt(M);return t.jsx(Zt,h({className:L(S.root,C),as:u,role:!y&&g?"img":void 0,ref:o,style:R,ownerState:M,src:y?g||f:void 0},x,{children:n}))}),er=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function tr(e,s,o){const a=s.getBoundingClientRect(),n=o&&o.getBoundingClientRect(),C=qe(s);let u;if(s.fakeTransform)u=s.fakeTransform;else{const c=C.getComputedStyle(s);u=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let g=0,f=0;if(u&&u!=="none"&&typeof u=="string"){const c=u.split("(")[1].split(")")[0].split(",");g=parseInt(c[4],10),f=parseInt(c[5],10)}return e==="left"?n?`translateX(${n.right+g-a.left}px)`:`translateX(${C.innerWidth+g-a.left}px)`:e==="right"?n?`translateX(-${a.right-n.left-g}px)`:`translateX(-${a.left+a.width-g}px)`:e==="up"?n?`translateY(${n.bottom+f-a.top}px)`:`translateY(${C.innerHeight+f-a.top}px)`:n?`translateY(-${a.top-n.top+a.height-f}px)`:`translateY(-${a.top+a.height-f}px)`}function rr(e){return typeof e=="function"?e():e}function pe(e,s,o){const a=rr(o),n=tr(e,s,a);n&&(s.style.webkitTransform=n,s.style.transform=n)}const sr=d.forwardRef(function(s,o){const a=Ge(),n={enter:a.transitions.easing.easeOut,exit:a.transitions.easing.sharp},C={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{addEndListener:u,appear:g=!0,children:f,container:c,direction:x="down",easing:y=n,in:R,onEnter:M,onEntered:S,onEntering:k,onExit:P,onExited:I,onExiting:K,style:_,timeout:$=C,TransitionComponent:H=nt}=s,N=se(s,er),m=d.useRef(null),V=lt(ct(f),m,o),w=l=>v=>{l&&(v===void 0?l(m.current):l(m.current,v))},z=w((l,v)=>{pe(x,l,c),ut(l),M&&M(l,v)}),j=w((l,v)=>{const ne=Ee({timeout:$,style:_,easing:y},{mode:"enter"});l.style.webkitTransition=a.transitions.create("-webkit-transform",h({},ne)),l.style.transition=a.transitions.create("transform",h({},ne)),l.style.webkitTransform="none",l.style.transform="none",k&&k(l,v)}),B=w(S),E=w(K),ae=w(l=>{const v=Ee({timeout:$,style:_,easing:y},{mode:"exit"});l.style.webkitTransition=a.transitions.create("-webkit-transform",v),l.style.transition=a.transitions.create("transform",v),pe(x,l,c),P&&P(l)}),J=w(l=>{l.style.webkitTransition="",l.style.transition="",I&&I(l)}),ie=l=>{u&&u(m.current,l)},T=d.useCallback(()=>{m.current&&pe(x,m.current,c)},[x,c]);return d.useEffect(()=>{if(R||x==="down"||x==="right")return;const l=dt(()=>{m.current&&pe(x,m.current,c)}),v=qe(m.current);return v.addEventListener("resize",l),()=>{l.clear(),v.removeEventListener("resize",l)}},[x,R,c]),d.useEffect(()=>{R||T()},[R,T]),t.jsx(H,h({nodeRef:m,onEnter:z,onEntered:B,onEntering:j,onExit:ae,onExited:J,onExiting:E,addEndListener:ie,appear:g,in:R,timeout:$},N,{children:(l,v)=>d.cloneElement(f,h({ref:V,style:h({visibility:l==="exited"&&!R?"hidden":void 0},_,f.props.style)},v))}))});function ar(e){return he("MuiDrawer",e)}fe("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const or=["BackdropProps"],ir=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],Xe=(e,s)=>{const{ownerState:o}=e;return[s.root,(o.variant==="permanent"||o.variant==="persistent")&&s.docked,s.modal]},nr=e=>{const{classes:s,anchor:o,variant:a}=e,n={root:["root"],docked:[(a==="permanent"||a==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${X(o)}`,a!=="temporary"&&`paperAnchorDocked${X(o)}`]};return me(n,ar,s)},lr=Z(_t,{name:"MuiDrawer",slot:"Root",overridesResolver:Xe})(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer})),We=Z("div",{shouldForwardProp:Ye,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Xe})({flex:"0 0 auto"}),cr=Z(ft,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,s)=>{const{ownerState:o}=e;return[s.paper,s[`paperAnchor${X(o.anchor)}`],o.variant!=="temporary"&&s[`paperAnchorDocked${X(o.anchor)}`]]}})(({theme:e,ownerState:s})=>h({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},s.anchor==="left"&&{left:0},s.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},s.anchor==="right"&&{right:0},s.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},s.anchor==="left"&&s.variant!=="temporary"&&{borderRight:`1px solid ${(e.vars||e).palette.divider}`},s.anchor==="top"&&s.variant!=="temporary"&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`},s.anchor==="right"&&s.variant!=="temporary"&&{borderLeft:`1px solid ${(e.vars||e).palette.divider}`},s.anchor==="bottom"&&s.variant!=="temporary"&&{borderTop:`1px solid ${(e.vars||e).palette.divider}`})),Ze={left:"right",right:"left",top:"down",bottom:"up"};function dr(e){return["left","right"].indexOf(e)!==-1}function ur({direction:e},s){return e==="rtl"&&dr(s)?Ze[s]:s}const Oe=d.forwardRef(function(s,o){const a=ge({props:s,name:"MuiDrawer"}),n=Ge(),C=pt(),u={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{anchor:g="left",BackdropProps:f,children:c,className:x,elevation:y=16,hideBackdrop:R=!1,ModalProps:{BackdropProps:M}={},onClose:S,open:k=!1,PaperProps:P={},SlideProps:I,TransitionComponent:K=sr,transitionDuration:_=u,variant:$="temporary"}=a,H=se(a.ModalProps,or),N=se(a,ir),m=d.useRef(!1);d.useEffect(()=>{m.current=!0},[]);const V=ur({direction:C?"rtl":"ltr"},g),z=h({},a,{anchor:g,elevation:y,open:k,variant:$},N),j=nr(z),B=t.jsx(cr,h({elevation:$==="temporary"?y:0,square:!0},P,{className:L(j.paper,P.className),ownerState:z,children:c}));if($==="permanent")return t.jsx(We,h({className:L(j.root,j.docked,x),ownerState:z,ref:o},N,{children:B}));const E=t.jsx(K,h({in:k,direction:Ze[V],timeout:_,appear:m.current},I,{children:B}));return $==="persistent"?t.jsx(We,h({className:L(j.root,j.docked,x),ownerState:z,ref:o},N,{children:E})):t.jsx(lr,h({BackdropProps:h({},f,M,{transitionDuration:_}),className:L(j.root,j.modal,x),open:k,ownerState:z,onClose:S,hideBackdrop:R,ref:o},N,H,{children:E}))});function pr(e){return he("MuiFab",e)}const Ue=fe("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),fr=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],hr=e=>{const{color:s,variant:o,classes:a,size:n}=e,C={root:["root",o,`size${X(n)}`,s==="inherit"?"colorInherit":s]},u=me(C,pr,a);return h({},a,u)},gr=Z(Ve,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>Ye(e)||e==="classes",overridesResolver:(e,s)=>{const{ownerState:o}=e;return[s.root,s[o.variant],s[`size${X(o.size)}`],o.color==="inherit"&&s.colorInherit,s[X(o.size)],s[o.color]]}})(({theme:e,ownerState:s})=>{var o,a;return h({},e.typography.button,{minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.text.primary:(o=(a=e.palette).getContrastText)==null?void 0:o.call(a,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${Ue.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]}},s.size==="small"&&{width:40,height:40},s.size==="medium"&&{width:48,height:48},s.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},s.variant==="extended"&&s.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},s.variant==="extended"&&s.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},s.color==="inherit"&&{color:"inherit"})},({theme:e,ownerState:s})=>h({},s.color!=="inherit"&&s.color!=="default"&&(e.vars||e).palette[s.color]!=null&&{color:(e.vars||e).palette[s.color].contrastText,backgroundColor:(e.vars||e).palette[s.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[s.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[s.color].main}}}),({theme:e})=>({[`&.${Ue.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}})),mr=d.forwardRef(function(s,o){const a=ge({props:s,name:"MuiFab"}),{children:n,className:C,color:u="default",component:g="button",disabled:f=!1,disableFocusRipple:c=!1,focusVisibleClassName:x,size:y="large",variant:R="circular"}=a,M=se(a,fr),S=h({},a,{color:u,component:g,disabled:f,disableFocusRipple:c,size:y,variant:R}),k=hr(S);return t.jsx(gr,h({className:L(k.root,C),component:g,disabled:f,focusRipple:!c,focusVisibleClassName:L(k.focusVisible,x),ownerState:S,ref:o},M,{classes:k,children:n}))});var ke={},xr=De;Object.defineProperty(ke,"__esModule",{value:!0});var Ke=ke.default=void 0,vr=xr(Se()),br=t;Ke=ke.default=(0,vr.default)((0,br.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList");var Me={},Cr=De;Object.defineProperty(Me,"__esModule",{value:!0});var Je=Me.default=void 0,jr=Cr(Se()),yr=t;Je=Me.default=(0,jr.default)((0,yr.jsx)("path",{d:"M7.88 3.39 6.6 1.86 2 5.71l1.29 1.53zM22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9m0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7m-3-9h3.63L9 15.2V17h6v-2h-3.63L15 10.8V9H9z"}),"Snooze");var Ie={},wr=De;Object.defineProperty(Ie,"__esModule",{value:!0});var Qe=Ie.default=void 0,Ar=wr(Se()),Rr=t;Qe=Ie.default=(0,Ar.default)((0,Rr.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");const Y=(e,s)=>{const[o,a]=d.useState(()=>{const n=localStorage.getItem(e);return n!==null?n:s});return d.useEffect(()=>{localStorage.setItem(e,o)},[e,o]),[o,a]},He={name:"",brand:"",model:"",mainCategory:"Nylons",subCategory:"",material:"",color:"",cost:"",condition:5,suitablePeriod:"Beide",purchaseDate:new Date().toISOString().split("T")[0],notes:"",vibeTags:[],location:"",imageUrl:"",customId:""};function Or(){const{items:e,loading:s}=ht(),[o,a]=d.useState([]),{currentUser:n}=gt(),C=mt(),u=xt(),{startGlobalScan:g,isScanning:f}=vt(),[c,x]=d.useState({brands:[],materials:[],locations:[],categoryStructure:{},vibeTagsList:[]}),[y,R]=d.useState(24),[M,S]=d.useState(!1),[k,P]=d.useState(!1),[I,K]=d.useState(He),[_,$]=d.useState(!1),[H,N]=d.useState(null),[m,V]=d.useState(null),[w,z]=Y("inv_filterStatus","active"),[j,B]=Y("inv_filterCategory","All"),[E,ae]=Y("inv_filterBrand","All"),[J,ie]=Y("inv_filterMaterial","All"),[T,l]=Y("inv_filterLocation","All"),[v,ne]=Y("inv_filterMinRating","0"),[xe,$e]=Y("inv_sortBy","dateDesc"),[Q,ve]=d.useState(null);d.useEffect(()=>{if(!n)return;(async()=>{try{const[i,p,W,D,O,le]=await Promise.all([ee(te(q,`users/${n.uid}/settings/brands`)),ee(te(q,`users/${n.uid}/settings/materials`)),ee(te(q,`users/${n.uid}/settings/preferences`)),ee(te(q,`users/${n.uid}/settings/locations`)),ee(te(q,`users/${n.uid}/settings/categories`)),ee(te(q,`users/${n.uid}/settings/vibes`))]);x({brands:i.exists()?i.data().list:[],materials:p.exists()?p.data().list:[],locations:D.exists()?D.data().list:[],categoryStructure:O.exists()?O.data().structure:{},vibeTagsList:le.exists()?le.data().list:["Business","Casual","Shiny","Matte","Reinforced"]}),W.exists()&&R(W.data().nylonRestingHours||24)}catch(i){console.error("Error loading inventory settings:",i)}})()},[n]),d.useEffect(()=>{var r;(r=u.state)!=null&&r.filterLocation&&ve(u.state.filterLocation)},[u]),d.useEffect(()=>()=>{m&&URL.revokeObjectURL(m)},[m]);const et=d.useMemo(()=>{const r=c.locations||[],i=e.map(p=>p.storageLocation).filter(p=>p&&p.trim()!=="");return[...new Set([...r,...i])].sort()},[c.locations,e]),tt=r=>{if(r.target.files&&r.target.files[0]){const i=r.target.files[0];N(i),V(URL.createObjectURL(i))}},rt=()=>{N(null),V(null)},st=async()=>{if(!I.brand||!I.mainCategory){alert("Bitte mindestens Marke und Kategorie angeben.");return}$(!0);try{let r=I.imageUrl;if(H){const i=At(Rt,`users/${n.uid}/items/${Date.now()}_${H.name}`),p=await Dt(i,H);r=await St(p.ref)}await kt(Mt(q,`users/${n.uid}/items`),{...I,imageUrl:r,cost:parseFloat(I.cost)||0,createdAt:It(),status:"active",wearCount:0,totalMinutes:0,lastWorn:null}),P(!1),K(He),N(null),V(null)}catch(r){console.error(r),alert("Fehler beim Speichern: "+r.message)}finally{$(!1)}},at=r=>{if(!r)return null;const i=(r.mainCategory||"").toLowerCase(),p=(r.subCategory||"").toLowerCase();if(!(i.includes("nylon")||i.includes("strumpf")||i.includes("tights")||p.includes("nylon")||p.includes("strumpf")||p.includes("tights")))return null;let D=null;if(r.lastWorn&&(typeof r.lastWorn.toDate=="function"?D=r.lastWorn.toDate():D=new Date(r.lastWorn)),!D||isNaN(D.getTime()))return null;const O=(new Date-D)/(1e3*60*60);return O<y?{isResting:!0,remaining:Math.ceil(y-O)}:null};d.useEffect(()=>{let r=[...e];Q?r=r.filter(i=>i.storageLocation&&i.storageLocation.trim()===Q.trim()):(w==="active"?r=r.filter(i=>i.status==="active"||!i.status):w!=="All"&&(r=r.filter(i=>i.status===w)),j!=="All"&&(r=r.filter(i=>i.mainCategory===j||i.category===j)),E!=="All"&&(r=r.filter(i=>i.brand===E)),J!=="All"&&(r=r.filter(i=>i.material===J)),T!=="All"&&(r=r.filter(i=>i.storageLocation===T)),parseInt(v)>0&&(r=r.filter(i=>i.condition>=parseInt(v)))),r.sort((i,p)=>{switch(xe){case"dateDesc":return(de(p.purchaseDate)||0)-(de(i.purchaseDate)||0);case"dateAsc":return(de(i.purchaseDate)||0)-(de(p.purchaseDate)||0);case"priceDesc":return(p.cost||0)-(i.cost||0);case"priceAsc":return(i.cost||0)-(p.cost||0);case"conditionDesc":return(p.condition||0)-(i.condition||0);case"nameAsc":const W=(i.brand||"")+(i.model||"")+(i.name||""),D=(p.brand||"")+(p.model||"")+(p.name||"");return W.localeCompare(D);default:return 0}}),a(r)},[e,j,E,J,v,w,T,xe,Q,y]);const ze=r=>r.name||`${r.brand} ${r.model}`,ot=r=>r.imageUrl?r.imageUrl:r.images&&r.images.length>0?r.images[0]:null,it=["All",...new Set(e.map(r=>r.mainCategory||r.category).filter(Boolean))];return s?t.jsx(A,{sx:{display:"flex",justifyContent:"center",mt:10},children:t.jsx(we,{})}):t.jsxs(Pe,{maxWidth:"md",disableGutters:!0,sx:{pt:1,pb:10},children:[t.jsxs(Le.div,{initial:"hidden",animate:"show",variants:_e.listContainer,children:[t.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,px:2},children:[t.jsxs(G,{variant:"h4",sx:F.textGradient,children:["Inventar (",o.length,")"]}),t.jsxs(A,{children:[t.jsx(ue,{color:"primary",onClick:g,disabled:f,children:f?t.jsx(we,{size:24}):t.jsx(bt,{})}),t.jsx(ue,{onClick:()=>S(!0),children:t.jsx(Ke,{})})]})]}),t.jsxs(A,{sx:{mb:2,px:2,display:"flex",gap:1,overflowX:"auto",pb:1},children:[Q&&t.jsx(U,{icon:t.jsx(Ne,{}),label:`Ort: ${Q}`,onDelete:()=>{ve(null)},sx:F.chip.active}),!Q&&t.jsxs(t.Fragment,{children:[j!=="All"&&t.jsx(U,{label:j,onDelete:()=>B("All"),sx:F.chip.active}),E!=="All"&&t.jsx(U,{label:E,onDelete:()=>ae("All"),sx:F.chip.active}),T!=="All"&&t.jsx(U,{icon:t.jsx(Ne,{style:{fontSize:16}}),label:T,onDelete:()=>l("All"),sx:F.chip.active}),w!=="active"&&w!=="All"&&t.jsx(U,{label:w,onDelete:()=>z("active"),sx:F.chip.active})]})]}),t.jsx(Be,{container:!0,spacing:2,sx:{px:2},children:o.map(r=>{const i=at(r),p=i==null?void 0:i.isResting,W=ot(r),D=Ct(r.mainCategory),O=r.status==="washing",le=r.status==="archived";let be=D.border,Ce=D.bg,je="none",ce="rgba(0,0,0,0.6)",ye="white";return le?(ce=oe.accents.red,be=oe.accents.red,Ce="rgba(20, 0, 0, 0.4)",je="grayscale(1)"):O?(ce="#2979ff",be="#2979ff",Ce="rgba(41, 121, 255, 0.1)",je="grayscale(0.8)"):p&&(ce="#ffc107",ye="#000"),t.jsx(Be,{item:!0,xs:6,sm:4,md:3,component:Le.div,variants:_e.listItem,layout:!0,children:t.jsx(Nt,{sx:{height:"100%",display:"flex",flexDirection:"column",...F.glassCard,borderColor:be,background:Ce},children:t.jsxs(Gt,{sx:{height:"100%",display:"flex",flexDirection:"column",alignItems:"stretch"},onClick:()=>C("/item/"+r.id),children:[t.jsxs(A,{sx:{position:"relative",pt:"100%",bgcolor:"rgba(0,0,0,0.2)",overflow:"hidden"},children:[W?t.jsx(Qt,{component:"img",image:W,alt:ze(r),sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",filter:je}}):t.jsx(jt,{sx:{position:"absolute",top:"35%",left:"35%",fontSize:40,opacity:.3}}),r.customId&&t.jsx(U,{icon:t.jsx(yt,{style:{fontSize:14,color:ye}}),label:r.customId,size:"small",sx:{position:"absolute",top:8,left:8,bgcolor:ce,backdropFilter:"blur(4px)",color:ye,fontWeight:"bold",height:"22px",fontSize:"0.7rem","& .MuiChip-icon":{marginLeft:"4px"}}}),O&&t.jsx(Et,{sx:{position:"absolute",bottom:8,right:8,color:"#2979ff",filter:"drop-shadow(0 0 4px black)"}}),p&&r.status==="active"&&t.jsx(Tt,{title:`Erholung: noch ${i.remaining}h`,children:t.jsx(U,{icon:t.jsx(Je,{style:{fontSize:16,color:"#000"}}),label:`${i.remaining}h`,size:"small",sx:{position:"absolute",top:8,right:8,bgcolor:"#ffc107",color:"#000",fontWeight:"bold",border:"1px solid #e0a800",backdropFilter:"blur(4px)",boxShadow:"0 2px 4px rgba(0,0,0,0.3)"}})})]}),t.jsxs(Ft,{sx:{flexGrow:1,p:1.5},children:[t.jsx(G,{variant:"subtitle2",noWrap:!0,sx:{fontWeight:"bold"},children:ze(r)}),t.jsx(G,{variant:"caption",color:"text.secondary",noWrap:!0,display:"block",children:r.mainCategory}),t.jsxs(Lt,{direction:"row",spacing:1,sx:{mt:1,alignItems:"center",justifyContent:"space-between"},children:[t.jsx(U,{label:r.brand,size:"small",variant:"outlined",sx:{fontSize:"0.65rem",height:20,...F.chip.default}}),t.jsx($t,{value:r.condition,readOnly:!0,size:"small",max:5,sx:{fontSize:"0.8rem"}})]})]})]})})},r.id)})})]}),t.jsx(Oe,{anchor:"bottom",open:k,onClose:()=>P(!1),PaperProps:F.bottomSheet,children:t.jsxs(A,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[t.jsxs(A,{sx:{p:2,display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[t.jsxs(A,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Fe,{color:"primary"}),t.jsx(G,{variant:"h6",children:"Neues Item erfassen"})]}),t.jsx(ue,{onClick:()=>P(!1),children:t.jsx(Te,{})})]}),t.jsx(A,{sx:{flexGrow:1,overflowY:"auto",p:2},children:t.jsxs(Pe,{maxWidth:"sm",disableGutters:!0,children:[t.jsxs(A,{sx:{mb:3,textAlign:"center"},children:[t.jsx("input",{accept:"image/*",style:{display:"none"},id:"raised-button-file",type:"file",onChange:tt}),t.jsx("label",{htmlFor:"raised-button-file",children:t.jsx(A,{sx:{width:"100%",height:200,borderRadius:2,border:`2px dashed ${m?oe.accents.green:oe.primary.main}`,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",overflow:"hidden",position:"relative",bgcolor:"rgba(0,0,0,0.2)",transition:"all 0.2s","&:hover":{bgcolor:"rgba(255,255,255,0.05)"}},children:m?t.jsx("img",{src:m,alt:"Preview",style:{width:"100%",height:"100%",objectFit:"contain"}}):t.jsxs(A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:1,p:2},children:[t.jsx(Qe,{sx:{fontSize:40,color:oe.primary.main}}),t.jsx(G,{variant:"body2",color:"text.secondary",children:"Bild auswählen oder aufnehmen"})]})})}),m&&t.jsx(Ae,{size:"small",color:"error",startIcon:t.jsx(wt,{}),onClick:rt,sx:{mt:1},children:"Bild entfernen"})]}),t.jsx(Bt,{sx:{mb:3,borderColor:"rgba(255,255,255,0.1)"}}),t.jsx(zt,{isEditing:!0,formData:I,setFormData:K,dropdowns:c,item:{}})]})}),t.jsx(A,{sx:{p:2,borderTop:"1px solid rgba(255,255,255,0.1)",bgcolor:"rgba(0,0,0,0.4)"},children:t.jsx(Ae,{variant:"contained",fullWidth:!0,size:"large",startIcon:_?t.jsx(we,{size:20,color:"inherit"}):t.jsx(Pt,{}),onClick:st,disabled:_,sx:{...F.buttonGradient,height:56},children:_?"Lade hoch & Speichere...":"Item Hinzufügen"})})]})}),t.jsx(Oe,{anchor:"right",open:M,onClose:()=>S(!1),PaperProps:{sx:{bgcolor:"#121212",borderLeft:"1px solid #333"}},children:t.jsxs(A,{sx:{width:280,p:3,pt:8,height:"100%",overflowY:"auto"},children:[t.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[t.jsx(G,{variant:"h6",children:"Filtern & Sortieren"}),t.jsx(ue,{onClick:()=>S(!1),children:t.jsx(Te,{})})]}),t.jsxs(re,{select:!0,fullWidth:!0,size:"small",margin:"dense",label:"Sortierung",value:xe,onChange:r=>$e(r.target.value),children:[t.jsx(b,{value:"dateDesc",children:"Neueste zuerst"}),t.jsx(b,{value:"dateAsc",children:"Älteste zuerst"}),t.jsxs(b,{value:"priceDesc",children:["Preis (Hoch ",">"," Niedrig)"]}),t.jsxs(b,{value:"priceAsc",children:["Preis (Niedrig ",">"," Hoch)"]}),t.jsx(b,{value:"conditionDesc",children:"Zustand (Best)"}),t.jsx(b,{value:"nameAsc",children:"Name A-Z"})]}),t.jsx(G,{variant:"subtitle2",color:"primary",sx:{mt:3,mb:1},children:"Filter"}),t.jsxs(re,{select:!0,fullWidth:!0,label:"Status",margin:"dense",size:"small",value:w,onChange:r=>z(r.target.value),children:[t.jsx(b,{value:"active",children:"Verfügbar"}),t.jsx(b,{value:"All",children:"Alle"}),t.jsx(b,{value:"washing",children:"In der Wäsche"}),t.jsx(b,{value:"archived",children:"Archiviert"})]}),t.jsxs(re,{select:!0,fullWidth:!0,label:"Lagerort",margin:"dense",size:"small",value:T,onChange:r=>l(r.target.value),children:[t.jsx(b,{value:"All",children:"Alle Orte"}),et.map(r=>t.jsx(b,{value:r,children:r},r))]}),t.jsxs(re,{select:!0,fullWidth:!0,label:"Kategorie",margin:"dense",size:"small",value:j,onChange:r=>B(r.target.value),children:[t.jsx(b,{value:"All",children:"Alle"}),it.map(r=>t.jsx(b,{value:r,children:r},r))]}),t.jsxs(re,{select:!0,fullWidth:!0,label:"Marke",margin:"dense",size:"small",value:E,onChange:r=>ae(r.target.value),children:[t.jsx(b,{value:"All",children:"Alle Marken"}),c.brands.map(r=>t.jsx(b,{value:r,children:r},r))]}),t.jsxs(re,{select:!0,fullWidth:!0,label:"Material",margin:"dense",size:"small",value:J,onChange:r=>ie(r.target.value),children:[t.jsx(b,{value:"All",children:"Alle Materialien"}),c.materials.map(r=>t.jsx(b,{value:r,children:r},r))]}),t.jsx(Ae,{variant:"outlined",fullWidth:!0,sx:{mt:4},onClick:()=>{z("active"),B("All"),ae("All"),ie("All"),l("All"),ne("0"),$e("dateDesc"),ve(null)},children:"Zurücksetzen"})]})}),t.jsx(mr,{color:"primary",sx:{position:"fixed",bottom:90,right:20},onClick:()=>P(!0),children:t.jsx(Fe,{})})]})}export{Or as default};
